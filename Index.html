<!DOCTYPE html>
<html lang="hi">
<head><meta charset="UTF-8"><title>Login / Register</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-blue-200 flex items-center justify-center min-h-screen">
  <div class="bg-white p-6 rounded-lg shadow-lg w-80">
    <div class="flex mb-4">
      <button id="lTab" class="flex-1 text-blue-600 border-b-2 border-blue-600">Login</button>
      <button id="rTab" class="flex-1 text-gray-500">Register</button>
    </div>

    <form id="loginForm" class="space-y-3">
      <input id="loginId" type="text" placeholder="Student ID (11 digit)" required pattern="\d{11}" maxlength="11" class="w-full p-2 border rounded">
      <input id="loginPass" type="password" placeholder="Password" required class="w-full p-2 border rounded">
      <button type="submit" class="w-full bg-blue-600 text-white p-2 rounded">Login</button>
    </form>

    <form id="regForm" class="space-y-3 hidden">
      <input id="name" type="text" placeholder="Full Name" required class="w-full p-2 border rounded">
      <input id="studentId" type="text" placeholder="Student ID (11 digit)" required pattern="\d{11}" maxlength="11" class="w-full p-2 border rounded">
      <input id="mobile" type="tel" placeholder="Mobile (10 digit)" required pattern="\d{10}" maxlength="10" class="w-full p-2 border rounded">
      <input id="password" type="password" placeholder="Password (min 6 chars)" required minlength="6" class="w-full p-2 border rounded">
      <button type="submit" class="w-full bg-blue-600 text-white p-2 rounded">Register</button>
    </form>

    <p id="msg" class="mt-3 text-center text-red-600 text-sm"></p>
  </div>

  <script>
    const lTab = document.getElementById('lTab'),
          rTab = document.getElementById('rTab'),
          loginForm = document.getElementById('loginForm'),
          regForm = document.getElementById('regForm'),
          msg = document.getElementById('msg');

    lTab.addEventListener('click', () => {
      loginForm.classList.remove('hidden');
      regForm.classList.add('hidden');
      lTab.classList.add('text-blue-600','border-blue-600');
      rTab.classList.remove('text-blue-600','border-blue-600');
      rTab.classList.add('text-gray-500');
      msg.textContent = '';
    });
    rTab.addEventListener('click', () => {
      regForm.classList.remove('hidden');
      loginForm.classList.add('hidden');
      rTab.classList.add('text-blue-600','border-blue-600');
      lTab.classList.remove('text-blue-600','border-blue-600');
      lTab.classList.add('text-gray-500');
      msg.textContent = '';
    });

    regForm.addEventListener('submit', e => {
      e.preventDefault();
      const id = document.getElementById('studentId').value,
            mo = document.getElementById('mobile').value,
            pw = document.getElementById('password').value;
      if (id.length !== 11) return msg.textContent = 'Student ID 11 digit ‡§π‡•ã‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§';
      if (mo.length !== 10) return msg.textContent = 'Mobile 10 digit ‡§π‡•ã‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§';
      if (pw.length < 6) return msg.textContent = 'Password ‡§ï‡§Æ ‡§∏‡•á ‡§ï‡§Æ 6 character ‡§π‡•ã‡§®‡•Ä ‡§ö‡§æ‡§π‡§ø‡§è‡•§';
      localStorage.setItem('user_' + id, JSON.stringify({id, mo, pw}));
      msg.classList.remove('text-red-600');
      msg.classList.add('text-green-600');
      msg.textContent = '‚úÖ Registration ‡§∏‡§´‡§≤!';
      regForm.reset();
    });

    loginForm.addEventListener('submit', e => {
      e.preventDefault();
      const id = document.getElementById('loginId').value,
            pw = document.getElementById('loginPass').value;
      const u = localStorage.getItem('user_' + id);
      if (!u) {
        msg.textContent = '‚ùå User ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ ‡§á‡§∏ ID ‡§∏‡•á‡•§';
        return;
      }
      const obj = JSON.parse(u);
      if (obj.pw !== pw) {
        msg.textContent = '‚ùå Password ‡§ó‡§≤‡§§ ‡§π‡•à‡•§';
        return;
      }
      msg.classList.remove('text-red-600');
      msg.classList.add('text-green-600');
      msg.textContent = 'üîë Login Successful! Redirecting...';
      setTimeout(() => {
        window.location.href = "https://chat.whatsapp.com/EztJzrccBfaL7sot42QtNs?mode=ems_copy_t";
      }, 1500);
    });
  </script>
</body>
</html>