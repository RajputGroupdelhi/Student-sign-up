<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <title>Student Portal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="min-h-screen bg-gradient-to-r from-blue-200 via-blue-300 to-blue-400 flex flex-col items-center py-10">

  <div class="bg-white p-8 rounded-2xl shadow-lg w-full max-w-lg">
    <!-- Tabs -->
    <div class="flex mb-6 border-b">
      <button id="loginTab" class="flex-1 py-2 text-center font-semibold text-blue-600 border-b-2 border-blue-600">Login</button>
      <button id="registerTab" class="flex-1 py-2 text-center font-semibold text-gray-500 hover:text-blue-600">Register</button>
    </div>

    <!-- Login Form -->
    <form id="loginForm" class="space-y-4">
      <h2 class="text-xl font-bold text-center text-blue-700 mb-4">ЁЯФР Student Login</h2>
      <input type="text" id="loginId" placeholder="Student ID (11 digit)" required pattern="[0-9]{11}" minlength="11" maxlength="11" class="w-full p-3 border rounded focus:ring-2 focus:ring-blue-300">
      <input type="password" id="loginPass" placeholder="Password" required class="w-full p-3 border rounded focus:ring-2 focus:ring-blue-300">
      <button type="submit" class="w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700">Login</button>
    </form>

    <!-- Registration Form -->
    <form id="regForm" class="space-y-4 hidden">
      <h2 class="text-xl font-bold text-center text-blue-700 mb-4">ЁЯУЭ Student Registration</h2>

      <input type="text" id="name" placeholder="Full Name" required class="w-full p-3 border rounded focus:ring-2 focus:ring-blue-300">

      <input type="text" id="roll" placeholder="Roll No." required class="w-full p-3 border rounded focus:ring-2 focus:ring-blue-300">

      <input type="text" id="studentId" placeholder="Student ID (11 digit)" 
             pattern="[0-9]{11}" minlength="11" maxlength="11" required 
             class="w-full p-3 border rounded focus:ring-2 focus:ring-blue-300">

      <input type="email" id="email" placeholder="Email ID" required 
             class="w-full p-3 border rounded focus:ring-2 focus:ring-blue-300">

      <input type="tel" id="mobile" placeholder="Mobile (10 digit)" 
             pattern="[0-9]{10}" minlength="10" maxlength="10" required 
             class="w-full p-3 border rounded focus:ring-2 focus:ring-blue-300">

      <input type="password" id="password" placeholder="Create Password" required minlength="6"
             class="w-full p-3 border rounded focus:ring-2 focus:ring-blue-300">

      <select id="member" required class="w-full p-3 border rounded focus:ring-2 focus:ring-blue-300">
        <option value="">Select Member</option>
        <option value="Shankar">Shankar</option>
        <option value="Harsh">Harsh</option>
        <option value="Vishal">Vishal</option>
      </select>

      <!-- Captcha -->
      <div class="flex items-center space-x-3">
        <span id="captchaQ" class="font-semibold text-blue-700"></span>
        <input type="hidden" id="captchaAns">
        <input id="captchaInput" type="number" placeholder="рдЙрддреНрддрд░ рджреЗрдВ" required 
               class="flex-1 p-2 border rounded focus:ring-2 focus:ring-blue-300">
        <button type="button" id="refreshCaptcha" class="px-3 py-2 bg-blue-100 text-blue-700 rounded">ЁЯФД</button>
      </div>

      <!-- Terms -->
      <label class="flex items-center text-sm">
        <input type="checkbox" id="agree" required class="mr-2">
        рдореИрдВ <a href="#terms" class="text-blue-700 underline">Terms & Conditions</a> рдорд╛рдирддрд╛/рдорд╛рдирддреА рд╣реВрдБ
      </label>

      <button type="submit" class="w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700">Register</button>
    </form>

    <!-- Terms Section -->
    <div id="terms" class="mt-8 text-sm text-gray-700">
      <h3 class="text-blue-700 font-bold mb-2">ЁЯУЬ Terms & Conditions</h3>
      <p>1. рд╕рд╛рд░реА рдЬрд╛рдирдХрд╛рд░реА рд╕рд╣реА рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред</p>
      <p>2. Mobile рдирдВрдмрд░ 10 digit рдФрд░ Student ID 11 digit рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред</p>
      <p>3. Registration рдХреЗ рд╕рдордп Password рдмрдирд╛рдирд╛ рдЬрд╝рд░реВрд░реА рд╣реИред</p>
      <p>4. Login рдХреЗ рд╕рдордп рд╡рд╣реА Password рдХрд╛рдо рдХрд░реЗрдЧрд╛ред</p>
      <p>5. Captcha рдХрд╛ рд╕рд╣реА рдЙрддреНрддрд░ рдЕрдирд┐рд╡рд╛рд░реНрдп рд╣реИред</p>
    </div>
  </div>

  <footer class="mt-6 text-sm text-blue-900 text-center">
    Rajput IT Solutions Limited ┬й 2025. All Rights Reserved. <br>Study Support Organization
  </footer>

  <script>
    // Tabs switch
    const loginTab = document.getElementById('loginTab');
    const registerTab = document.getElementById('registerTab');
    const loginForm = document.getElementById('loginForm');
    const regForm = document.getElementById('regForm');

    loginTab.addEventListener('click', () => {
      loginForm.classList.remove('hidden');
      regForm.classList.add('hidden');
      loginTab.classList.add('text-blue-600','border-blue-600');
      registerTab.classList.remove('text-blue-600','border-blue-600');
      registerTab.classList.add('text-gray-500');
    });

    registerTab.addEventListener('click', () => {
      loginForm.classList.add('hidden');
      regForm.classList.remove('hidden');
      registerTab.classList.add('text-blue-600','border-blue-600');
      loginTab.classList.remove('text-blue-600','border-blue-600');
      loginTab.classList.add('text-gray-500');
    });

    // Captcha generate
    function genCaptcha() {
      const a = Math.floor(Math.random() * 9) + 1;
      const b = Math.floor(Math.random() * 9) + 1;
      document.getElementById('captchaQ').textContent = `${a} + ${b} = ?`;
      document.getElementById('captchaAns').value = a + b;
      document.getElementById('captchaInput').value = '';
    }
    genCaptcha();
    document.getElementById('refreshCaptcha').addEventListener('click', genCaptcha);

    // Temporary DB (localStorage)
    function saveUser(data) {
      localStorage.setItem("user_" + data.studentId, JSON.stringify(data));
    }
    function getUser(studentId) {
      return JSON.parse(localStorage.getItem("user_" + studentId));
    }

    // Registration form submit
    regForm.addEventListener('submit', e => {
      e.preventDefault();

      // Captcha check
      const captchaOk = document.getElementById('captchaInput').value == document.getElementById('captchaAns').value;
      if (!captchaOk) {
        alert("Captcha рдЧрд▓рдд рд╣реИ!");
        genCaptcha();
        return;
      }

      // Collect data
      const userData = {
        name: document.getElementById('name').value,
        roll: document.getElementById('roll').value,
        studentId: document.getElementById('studentId').value,
        email: document.getElementById('email').value,
        mobile: document.getElementById('mobile').value,
        password: document.getElementById('password').value,
        member: document.getElementById('member').value
      };

      saveUser(userData);
      alert("тЬЕ Registration Successful! рдЕрдм рдЖрдк Login рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред");
      regForm.reset();
      genCaptcha();
    });

    // Login form submit
    loginForm.addEventListener('submit', e => {
      e.preventDefault();
      const id = document.getElementById('loginId').value;
      const pass = document.getElementById('loginPass').value;
      const user = getUser(id);

      if (user && user.password === pass) {
        alert("ЁЯФС Login Successful! Welcome " + user.name);
      } else {
        alert("тЭМ Invalid Student ID рдпрд╛ Password");
      }
    });
  </script>
</body>
</html>